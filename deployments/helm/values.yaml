# Default values for a papyrus deployment.

# The verbosity level of logs ("debug", "info", "error", etc.)
rustLogLevel: "info"

node:
  # Number of concurrent requests to the SN feeder gateway
  concurrentFgRequests: 50

# Ethereum node URL. A value for this variable is mandatory.
base_layer_node_url:

starknet:
  # possible values: "mainnet.json, sepolia_testnet" and "sepolia_integration".
  preset: mainnet.json
  additionalHeaders: # optional addtional headers for SN communication

p2p:
  enabled: true
  # Set to true if node is "bootstrap"
  bootstrap: false
  # General config
  config:
    # Optional, The node self port to listen | default "10000"
    network_tcp_port:
    # Optional, The node data path | default "data"
    storage_db_config_path_prefix:
    # Optional, network.#is_none flag | default "false"
    network_is_none:
  # Config to include only if "bootstrap: false"
  nodeConfig:
    # Mandatory, The network.#is_none flag on the bootsrap server
    network_bootstrap_peer_multiaddr_is_none:
    # Mandatory,The bootstrap server to connect to, ip adress
    network_bootstrap_peer_multiaddr_ip:
    # Mandatory,The bootstrap server to connect to, port 
    network_bootstrap_peer_multiaddr_port:
    # Mandatory,The bootstrap server to connect to, uid
    network_bootstrap_peer_multiaddr_uid:
  service:
    # Specify service type, options are ClusterIP | NodePort | LoadBalancer
    type: LoadBalancer
    port: 10000
    protocol: TCP
    nodePort:
    
deployment:
  # The container image
  image:
    repository: ghcr.io/starkware-libs/papyrus
    tag: 0.4.0
  # The container's pullPolicy
  pullPolicy: Always
  # Optional - pod annotations
  annotations: {}
  # Optional - nodeSelector
  nodeSelector:
  # Optional - tolerations
  tolerations:
  # The default resources for a pod.
  resources:
    limits:
      cpu: "1"
      memory: 1Gi
    requests:
      cpu: 500m
      memory: 1Gi
  ## Optionally specify extra environment variables to add to papyrus container
  extraEnv: []
    # - name: FOO
    #   value: BAR
  extraArgs: {} # Optional additional deployment args
    # collect_metrics: "true"

# Service variables for a papyrus pod.
service:
  # Specify service type, options are ClusterIP | NodePort | LoadBalancer
  type: ClusterIP  
  ports:
    rpc:
      enabled: true
      port: 8080
      protocol: TCP
      # Optional If service type is "NodePort" you can sepcify a custom node port.
      # If left empty a random port between range (30000-32767) will be selected.
      nodePort:
    monitoring:
      enabled: true
      port: 8081
      protocol: TCP
      nodePort:

# Persistent volume claim variables for a papyrus pod.
pvc:
  # Recommended size is at least 512Gi.
  size:
  # Is is recommended to use an SSD volume (such as GKE premium-rwo).
  storageClass: ""
  # Use an existing snapshot for the node's data. The kubernetes volumesnapshot object should
  # exist in the same namespace as the rest of the resources.
  restoreFromSnapshot:
    enabled: false
    snapshotName: my-snapshot

# Configure Ingress.
ingress:
  # Should an ingress object be created
  enabled: false
  # Ingress class type.
  type:
  # Ingress object name in Kubernetes.
  name:
  # Host name to create Ingress rules.
  host:
  # Ingress path type.
  pathType:
  # Annotations to apply to the node ingress.
  annotations: {}

# GrafanaDashboad CRD configuration
# This is relevant for Grafana Operator users https://grafana.github.io/grafana-operator/docs/
grafanaDashboard:
  # Should the GrafanaDashboard object be installed
  enabled: false
grafanaAlerts:
  enabled: false

# Backup mode
backup:
  enabled: false
  sleepInterval: 6h
  compress: false
  aws:
    s3BucketName: my-backup-bucket-name
    s3BucketRegion: my-backup-bucket-region
    accessKeyId: my aws_access_key_id
    secretAccessKey: my aws_secret_access_key
